{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91848\\\\Desktop\\\\cloudsecdoc\\\\interviewPrep\\\\Simulations\\\\YCombinator-React-advanced\\\\Shiptivitas\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport HomeTab from './HomeTab';\nimport Navigation from './Navigation';\nimport Board from './Board';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.changeTab = tabName => {\n      if (tabName === 'home') {\n        this.setState({\n          selectedTab: 'home',\n          isUnlocked: false,\n          userId: null,\n          clients: {\n            backlog: [],\n            inProgress: [],\n            complete: []\n          }\n        });\n      } else {\n        this.setState({\n          selectedTab: tabName\n        });\n      }\n    };\n    this.handleUnlock = async (pin, id) => {\n      try {\n        const response = await fetch('/api/verify-pin', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: Number(id),\n            pin: String(pin)\n          })\n        });\n        const result = await response.json();\n        if (response.ok && result.valid) {\n          const cardsRes = await fetch('/api/cards');\n          const cards = await cardsRes.json();\n          const groupedCards = {\n            backlog: cards.filter(c => c.status === 'backlog'),\n            inProgress: cards.filter(c => c.status === 'in-progress'),\n            complete: cards.filter(c => c.status === 'complete')\n          };\n          this.setState({\n            isUnlocked: true,\n            selectedTab: 'shipping-requests',\n            userId: id,\n            clients: groupedCards\n          });\n        } else {\n          alert(result.error || 'Invalid PIN. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error verifying PIN:', error);\n        alert('An error occurred while verifying the PIN.');\n      }\n    };\n    this.handleCardChange = async (cardID, oldStatus, newStatus, oldPriority, newPriority) => {\n      try {\n        await fetch('/api/card-change', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            card_id: cardID,\n            change_description: `Status: ${oldStatus} → ${newStatus}, Priority: ${oldPriority} → ${newPriority}`,\n            changed_by: this.state.userId\n          })\n        });\n      } catch (error) {\n        console.error('Failed to update card:', error);\n      }\n    };\n    this.state = {\n      selectedTab: 'home',\n      isUnlocked: false,\n      userId: null,\n      clients: {\n        backlog: [],\n        inProgress: [],\n        complete: []\n      }\n    };\n  }\n  renderShippingRequests() {\n    return /*#__PURE__*/_jsxDEV(Board, {\n      clients: this.state.clients,\n      currentUserId: this.state.userId,\n      updateClients: newClients => this.setState({\n        clients: newClients\n      }),\n      onCardChange: this.handleCardChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n  renderNavigation() {\n    return /*#__PURE__*/_jsxDEV(Navigation, {\n      onClick: this.changeTab,\n      selectedTab: this.state.selectedTab,\n      isUnlocked: this.state.isUnlocked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  }\n  renderTabContent() {\n    const {\n      selectedTab,\n      isUnlocked\n    } = this.state;\n    if (selectedTab === 'shipping-requests' && isUnlocked) {\n      return this.renderShippingRequests();\n    }\n    return /*#__PURE__*/_jsxDEV(HomeTab, {\n      onUnlock: this.handleUnlock\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 12\n    }, this);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [this.renderNavigation(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-body\",\n        children: this.renderTabContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","HomeTab","Navigation","Board","jsxDEV","_jsxDEV","App","constructor","props","changeTab","tabName","setState","selectedTab","isUnlocked","userId","clients","backlog","inProgress","complete","handleUnlock","pin","id","response","fetch","method","headers","body","JSON","stringify","Number","String","result","json","ok","valid","cardsRes","cards","groupedCards","filter","c","status","alert","error","console","handleCardChange","cardID","oldStatus","newStatus","oldPriority","newPriority","card_id","change_description","changed_by","state","renderShippingRequests","currentUserId","updateClients","newClients","onCardChange","fileName","_jsxFileName","lineNumber","columnNumber","renderNavigation","onClick","renderTabContent","onUnlock","render","className","children"],"sources":["C:/Users/91848/Desktop/cloudsecdoc/interviewPrep/Simulations/YCombinator-React-advanced/Shiptivitas/frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport HomeTab from './HomeTab';\r\nimport Navigation from './Navigation';\r\nimport Board from './Board';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedTab: 'home',\r\n      isUnlocked: false,\r\n      userId: null,\r\n      clients: {\r\n        backlog: [],\r\n        inProgress: [],\r\n        complete: [],\r\n      },\r\n    };\r\n  }\r\n\r\n  changeTab = (tabName) => {\r\n    if (tabName === 'home') {\r\n      this.setState({\r\n        selectedTab: 'home',\r\n        isUnlocked: false,\r\n        userId: null,\r\n        clients: {\r\n          backlog: [],\r\n          inProgress: [],\r\n          complete: [],\r\n        },\r\n      });\r\n    } else {\r\n      this.setState({ selectedTab: tabName });\r\n    }\r\n  };\r\n\r\n  handleUnlock = async (pin, id) => {\r\n    try {\r\n      const response = await fetch('/api/verify-pin', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ id: Number(id), pin: String(pin) }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.valid) {\r\n        const cardsRes = await fetch('/api/cards');\r\n        const cards = await cardsRes.json();\r\n\r\n        const groupedCards = {\r\n          backlog: cards.filter(c => c.status === 'backlog'),\r\n          inProgress: cards.filter(c => c.status === 'in-progress'),\r\n          complete: cards.filter(c => c.status === 'complete'),\r\n        };\r\n\r\n        this.setState({\r\n          isUnlocked: true,\r\n          selectedTab: 'shipping-requests',\r\n          userId: id,\r\n          clients: groupedCards,\r\n        });\r\n      } else {\r\n        alert(result.error || 'Invalid PIN. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verifying PIN:', error);\r\n      alert('An error occurred while verifying the PIN.');\r\n    }\r\n  };\r\n\r\n  handleCardChange = async (cardID, oldStatus, newStatus, oldPriority, newPriority) => {\r\n    try {\r\n      await fetch('/api/card-change', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          card_id: cardID,\r\n          change_description: `Status: ${oldStatus} → ${newStatus}, Priority: ${oldPriority} → ${newPriority}`,\r\n          changed_by: this.state.userId,\r\n        }),\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to update card:', error);\r\n    }\r\n  };\r\n\r\n  renderShippingRequests() {\r\n    return (\r\n      <Board\r\n        clients={this.state.clients}\r\n        currentUserId={this.state.userId}\r\n        updateClients={(newClients) => this.setState({ clients: newClients })}\r\n        onCardChange={this.handleCardChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderNavigation() {\r\n    return (\r\n      <Navigation\r\n        onClick={this.changeTab}\r\n        selectedTab={this.state.selectedTab}\r\n        isUnlocked={this.state.isUnlocked}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTabContent() {\r\n    const { selectedTab, isUnlocked } = this.state;\r\n    if (selectedTab === 'shipping-requests' && isUnlocked) {\r\n      return this.renderShippingRequests();\r\n    }\r\n    return <HomeTab onUnlock={this.handleUnlock} />;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {this.renderNavigation()}\r\n        <div className=\"App-body\">\r\n          {this.renderTabContent()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}