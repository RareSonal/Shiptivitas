{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91848\\\\Desktop\\\\cloudsecdoc\\\\interviewPrep\\\\Simulations\\\\YCombinator-React-advanced\\\\Shiptivitas\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport HomeTab from './HomeTab';\nimport Navigation from './Navigation';\nimport Board from './Board';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    // Change the selected tab\n    this.changeTab = tabName => {\n      if (tabName === 'home') {\n        this.setState({\n          selectedTab: 'home',\n          isUnlocked: false,\n          userId: null\n        });\n      } else {\n        this.setState({\n          selectedTab: tabName\n        });\n      }\n    };\n    // Handle PIN verification\n    this.handleUnlock = async (pin, id) => {\n      try {\n        const response = await fetch('/api/verify-pin', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            pin: pin.toString(),\n            id\n          }) // Send pin as string\n        });\n        const result = await response.json();\n        if (response.ok && result.valid) {\n          this.setState({\n            isUnlocked: true,\n            selectedTab: 'shipping-requests',\n            userId: id\n          });\n\n          // Save login history\n          await fetch('/api/login-history', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              userId: id\n            })\n          });\n        } else {\n          alert(result.error || 'Invalid PIN. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error verifying PIN:', error);\n        alert('An error occurred while verifying the PIN.');\n      }\n    };\n    // Handle card status and priority change\n    this.handleCardChange = async (cardID, oldStatus, newStatus, oldPriority, newPriority) => {\n      try {\n        await fetch('/api/card-change-history', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            cardID,\n            oldStatus,\n            newStatus,\n            oldPriority,\n            newPriority\n          })\n        });\n        await fetch(`/api/v1/clients/${cardID}`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            status: newStatus,\n            priority: newPriority\n          })\n        });\n      } catch (error) {\n        console.error('Failed to update card:', error);\n      }\n    };\n    this.state = {\n      selectedTab: 'home',\n      isUnlocked: false,\n      userId: null\n    };\n  }\n  // Render shipping requests\n  renderShippingRequests() {\n    return /*#__PURE__*/_jsxDEV(Board, {\n      onCardChange: this.handleCardChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Render navigation bar\n  renderNavigation() {\n    return /*#__PURE__*/_jsxDEV(Navigation, {\n      onClick: this.changeTab,\n      selectedTab: this.state.selectedTab,\n      isUnlocked: this.state.isUnlocked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Render the content based on selected tab\n  renderTabContent() {\n    const {\n      selectedTab,\n      isUnlocked\n    } = this.state;\n    if (selectedTab === 'shipping-requests' && isUnlocked) {\n      return this.renderShippingRequests();\n    }\n    return /*#__PURE__*/_jsxDEV(HomeTab, {\n      onUnlock: this.handleUnlock\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 12\n    }, this);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [this.renderNavigation(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-body\",\n        children: this.renderTabContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","HomeTab","Navigation","Board","jsxDEV","_jsxDEV","App","constructor","props","changeTab","tabName","setState","selectedTab","isUnlocked","userId","handleUnlock","pin","id","response","fetch","method","headers","body","JSON","stringify","toString","result","json","ok","valid","alert","error","console","handleCardChange","cardID","oldStatus","newStatus","oldPriority","newPriority","status","priority","state","renderShippingRequests","onCardChange","fileName","_jsxFileName","lineNumber","columnNumber","renderNavigation","onClick","renderTabContent","onUnlock","render","className","children"],"sources":["C:/Users/91848/Desktop/cloudsecdoc/interviewPrep/Simulations/YCombinator-React-advanced/Shiptivitas/frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport HomeTab from './HomeTab';\r\nimport Navigation from './Navigation';\r\nimport Board from './Board';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedTab: 'home',\r\n      isUnlocked: false,\r\n      userId: null,\r\n    };\r\n  }\r\n\r\n  // Change the selected tab\r\n  changeTab = (tabName) => {\r\n    if (tabName === 'home') {\r\n      this.setState({ selectedTab: 'home', isUnlocked: false, userId: null });\r\n    } else {\r\n      this.setState({ selectedTab: tabName });\r\n    }\r\n  };\r\n\r\n  // Handle PIN verification\r\n  handleUnlock = async (pin, id) => {\r\n    try {\r\n      const response = await fetch('/api/verify-pin', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ pin: pin.toString(), id }), // Send pin as string\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.valid) {\r\n        this.setState({\r\n          isUnlocked: true,\r\n          selectedTab: 'shipping-requests',\r\n          userId: id,\r\n        });\r\n\r\n        // Save login history\r\n        await fetch('/api/login-history', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ userId: id }),\r\n        });\r\n      } else {\r\n        alert(result.error || 'Invalid PIN. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verifying PIN:', error);\r\n      alert('An error occurred while verifying the PIN.');\r\n    }\r\n  };\r\n\r\n  // Handle card status and priority change\r\n  handleCardChange = async (cardID, oldStatus, newStatus, oldPriority, newPriority) => {\r\n    try {\r\n      await fetch('/api/card-change-history', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ cardID, oldStatus, newStatus, oldPriority, newPriority }),\r\n      });\r\n\r\n      await fetch(`/api/v1/clients/${cardID}`, {\r\n        method: 'PUT',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ status: newStatus, priority: newPriority }),\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to update card:', error);\r\n    }\r\n  };\r\n\r\n  // Render shipping requests\r\n  renderShippingRequests() {\r\n    return (\r\n      <Board\r\n        onCardChange={this.handleCardChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Render navigation bar\r\n  renderNavigation() {\r\n    return (\r\n      <Navigation\r\n        onClick={this.changeTab}\r\n        selectedTab={this.state.selectedTab}\r\n        isUnlocked={this.state.isUnlocked}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Render the content based on selected tab\r\n  renderTabContent() {\r\n    const { selectedTab, isUnlocked } = this.state;\r\n    if (selectedTab === 'shipping-requests' && isUnlocked) {\r\n      return this.renderShippingRequests();\r\n    }\r\n    return <HomeTab onUnlock={this.handleUnlock} />;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {this.renderNavigation()}\r\n        <div className=\"App-body\">\r\n          {this.renderTabContent()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}