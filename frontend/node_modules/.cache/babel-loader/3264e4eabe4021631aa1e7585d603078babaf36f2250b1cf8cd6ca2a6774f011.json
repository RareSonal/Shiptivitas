{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91848\\\\Desktop\\\\cloudsecdoc\\\\interviewPrep\\\\Simulations\\\\YCombinator-React-advanced\\\\Shiptivitas\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport HomeTab from './HomeTab';\nimport Navigation from './Navigation';\nimport Board from './Board';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.changeTab = tabName => {\n      if (tabName === 'home') {\n        this.setState({\n          selectedTab: 'home',\n          isUnlocked: false,\n          userId: null\n        });\n      } else {\n        this.setState({\n          selectedTab: tabName\n        });\n      }\n    };\n    this.handleUnlock = async (pin, id) => {\n      try {\n        const response = await fetch('/api/verify-pin', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: Number(id),\n            pin: String(pin)\n          })\n        });\n        const result = await response.json();\n        if (response.ok && result.message === 'PIN verified successfully') {\n          this.setState({\n            isUnlocked: true,\n            selectedTab: 'shipping-requests',\n            userId: id\n          });\n\n          // Log user login\n          await fetch('/api/login-history', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              user_id: id,\n              login_time: new Date().toISOString(),\n              ip_address: 'localhost'\n            })\n          });\n        } else {\n          alert(result.error || 'Invalid PIN. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error verifying PIN:', error);\n        alert('An error occurred while verifying the PIN.');\n      }\n    };\n    this.handleCardChange = async (cardID, oldStatus, newStatus, oldPriority, newPriority) => {\n      try {\n        await fetch('/api/card-change', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            card_id: cardID,\n            change_description: `Status: ${oldStatus} → ${newStatus}, Priority: ${oldPriority} → ${newPriority}`,\n            changed_by: this.state.userId\n          })\n        });\n      } catch (error) {\n        console.error('Failed to update card:', error);\n      }\n    };\n    this.state = {\n      selectedTab: 'home',\n      isUnlocked: false,\n      userId: null\n    };\n  }\n  renderShippingRequests() {\n    return /*#__PURE__*/_jsxDEV(Board, {\n      onCardChange: this.handleCardChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n  renderNavigation() {\n    return /*#__PURE__*/_jsxDEV(Navigation, {\n      onClick: this.changeTab,\n      selectedTab: this.state.selectedTab,\n      isUnlocked: this.state.isUnlocked\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n  renderTabContent() {\n    const {\n      selectedTab,\n      isUnlocked\n    } = this.state;\n    if (selectedTab === 'shipping-requests' && isUnlocked) {\n      return this.renderShippingRequests();\n    }\n    return /*#__PURE__*/_jsxDEV(HomeTab, {\n      onUnlock: this.handleUnlock\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 12\n    }, this);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [this.renderNavigation(), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App-body\",\n        children: this.renderTabContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","HomeTab","Navigation","Board","jsxDEV","_jsxDEV","App","constructor","props","changeTab","tabName","setState","selectedTab","isUnlocked","userId","handleUnlock","pin","id","response","fetch","method","headers","body","JSON","stringify","Number","String","result","json","ok","message","user_id","login_time","Date","toISOString","ip_address","alert","error","console","handleCardChange","cardID","oldStatus","newStatus","oldPriority","newPriority","card_id","change_description","changed_by","state","renderShippingRequests","onCardChange","fileName","_jsxFileName","lineNumber","columnNumber","renderNavigation","onClick","renderTabContent","onUnlock","render","className","children"],"sources":["C:/Users/91848/Desktop/cloudsecdoc/interviewPrep/Simulations/YCombinator-React-advanced/Shiptivitas/frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport HomeTab from './HomeTab';\r\nimport Navigation from './Navigation';\r\nimport Board from './Board';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      selectedTab: 'home',\r\n      isUnlocked: false,\r\n      userId: null,\r\n    };\r\n  }\r\n\r\n  changeTab = (tabName) => {\r\n    if (tabName === 'home') {\r\n      this.setState({ selectedTab: 'home', isUnlocked: false, userId: null });\r\n    } else {\r\n      this.setState({ selectedTab: tabName });\r\n    }\r\n  };\r\n\r\n  handleUnlock = async (pin, id) => {\r\n    try {\r\n      const response = await fetch('/api/verify-pin', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ id: Number(id), pin: String(pin) }),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (response.ok && result.message === 'PIN verified successfully') {\r\n        this.setState({\r\n          isUnlocked: true,\r\n          selectedTab: 'shipping-requests',\r\n          userId: id,\r\n        });\r\n\r\n        // Log user login\r\n        await fetch('/api/login-history', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({\r\n            user_id: id,\r\n            login_time: new Date().toISOString(),\r\n            ip_address: 'localhost',\r\n          }),\r\n        });\r\n      } else {\r\n        alert(result.error || 'Invalid PIN. Please try again.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error verifying PIN:', error);\r\n      alert('An error occurred while verifying the PIN.');\r\n    }\r\n  };\r\n\r\n  handleCardChange = async (cardID, oldStatus, newStatus, oldPriority, newPriority) => {\r\n    try {\r\n      await fetch('/api/card-change', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          card_id: cardID,\r\n          change_description: `Status: ${oldStatus} → ${newStatus}, Priority: ${oldPriority} → ${newPriority}`,\r\n          changed_by: this.state.userId,\r\n        }),\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to update card:', error);\r\n    }\r\n  };\r\n\r\n  renderShippingRequests() {\r\n    return (\r\n      <Board\r\n        onCardChange={this.handleCardChange}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderNavigation() {\r\n    return (\r\n      <Navigation\r\n        onClick={this.changeTab}\r\n        selectedTab={this.state.selectedTab}\r\n        isUnlocked={this.state.isUnlocked}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderTabContent() {\r\n    const { selectedTab, isUnlocked } = this.state;\r\n    if (selectedTab === 'shipping-requests' && isUnlocked) {\r\n      return this.renderShippingRequests();\r\n    }\r\n    return <HomeTab onUnlock={this.handleUnlock} />;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        {this.renderNavigation()}\r\n        <div className=\"App-body\">\r\n          {this.renderTabContent()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}